## 简介

webassembly/wasm 一个可移植、体积小、加载快并且兼容web的全新格式。 

- **高效**：webassembly有一套完整的语义，wasm是体积小且加载快的二进制格式，目标则是充分发挥硬件能力，达到原生执行效率。
- **安全**：webassembly 运行在一个沙箱化的执行环境中，甚至可以在现有的js vm中实现，不仅可以运行在浏览器中，也可以运行在非web环境中。
- **开放**：其设计了一个十分规整的文本格式用来调试、测试、编写程序等，以这种文本格式在web界面上查看wasm模块的源码。
- **不破坏网络**：wasm的设计原则是与其他网络技术和谐共处并保持向后兼容。

### 相关概念：

- **模块**：表示一个已经被浏览器编译为可执行机器码的webassembly的二进制代码。
- **内存**：本质上是连续的字节数据，wasm的低级内存存取指令可以对其进行读写操作。
- **表格**：带类型的数组，大小可变。**表格中的存储项不能作为原始字节存储在内存里的对象的引用**
- **实例**：一个模块及其在运行时使用的所有状态，包括内存、表格和一系列导入值。



工具安装

默认都装有rust，golang

wabt [WebAssembly/wabt: The WebAssembly Binary Toolkit (github.com)](https://github.com/WebAssembly/wabt)

编译可以参照git上的提示。

需要配置到环境变量中的工具：

- wat2wasm  读取wasm文本格式的文件，检查错误，并将其转化为wasm二进制格式。
  - wat2wasm  test.wat 解析并对xx.wat 文件进行类型检查（.wat文件则是wasm的文本格式，此处只是个例，并无其他意义）
  - wat2wasm test.wat -o test.wasm  解析wat文件并将其输出为 test.wasm 二进制文件。
  - wat2wasm name.wat -v  解析name.wat 并将结果详细输出到终端。
- wasm-strip 裁剪wasm文件
  - wasm-strip name.wasm
- wasm-objdump 打印有关wasm二进制文件内容的信息
  - wasm-objdump test.wasm
    - -d   wasm-objdump -d test.wasm  拆解函数体
    - -x   wasm-objdump -x test.wasm  显示部分详细信息
    - -h   wasm-objdump -h test.wasm  显示头部信息
- wasm2wat  读取webassembly 的二进制格式文件，并将其转换为webassembly 文本格式 即  xx.wasm ===> xx.wat
  - wasm2wat test.wasm -o test.wat 
  - wasm2wat test.wasm --no-debug -o test.wat   无debug信息
  - wasm2wat test.wasm --fold-exprs -o test.wat  尽可能的折叠表达式

其他的工具根据业务需求自行配置，不再赘述。


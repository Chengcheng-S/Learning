# 宏

Nim语言的宏提供了一个高级的编译期的替换功能，宏不能替换语言本身的语法。

## 构建

用Nim代码编写宏，让编译器解析它，手动创建抽象语法树AST，你告诉编译器，

调用： `moacrostmt`

声明

```python
macro case_token(n: stmt): stmt =
	 discard

case_token: # this colon tells the parser it is a macro statement
of r"[A-Za-z_]+[A-Za-z_0-9]*":
  return tkIdentifier
of r"0-9+":
  return tkInteger
of r"[\+\-\*\?]+":
  return tkOperator
else:
  return tkUnknown
```





